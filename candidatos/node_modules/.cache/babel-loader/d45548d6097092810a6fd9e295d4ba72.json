{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\julio\\\\Desktop\\\\API USANDO REACT Y C# NET.CORE\\\\candidatos\\\\src\\\\components\\\\DCandidateForm.js\";\nimport React, { useEffect } from \"react\";\nimport { Grid, TextField, withStyles, FormControl, InputLabel, Select, MenuItem, Button, FormHelperText } from \"@material-ui/core\";\nimport useForm from \"./useForm\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../actions/dCandidate\";\nimport { useToasts } from \"react-toast-notifications\";\n\nconst styles = theme => ({\n  root: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      minWidth: 230\n    }\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 230\n  },\n  smMargin: {\n    margin: theme.spacing(1)\n  }\n});\n\nconst initialFieldValues = {\n  fullName: '',\n  mobile: '',\n  email: '',\n  age: '',\n  bloodGroup: '',\n  address: ''\n};\n\nconst DCandidateForm = ({\n  classes,\n  ...props\n}) => {\n  //toast msg.\n  const {\n    addToast\n  } = useToasts(); //validate()\n  //validate({fullName:'jenny'})\n\n  const validate = (fieldValues = values) => {\n    let temp = { ...errors\n    };\n    if ('fullName' in fieldValues) temp.fullName = fieldValues.fullName ? \"\" : \"This field is required.\";\n    if ('mobile' in fieldValues) temp.mobile = fieldValues.mobile ? \"\" : \"This field is required.\";\n    if ('bloodGroup' in fieldValues) temp.bloodGroup = fieldValues.bloodGroup ? \"\" : \"This field is required.\";\n    if ('email' in fieldValues) temp.email = /^$|.+@.+..+/.test(fieldValues.email) ? \"\" : \"Email is not valid.\";\n    setErrors({ ...temp\n    });\n    if (fieldValues === values) return Object.values(temp).every(x => x === \"\");\n  };\n\n  const {\n    values,\n    setValues,\n    errors,\n    setErrors,\n    handleInputChange,\n    resetForm\n  } = useForm(initialFieldValues, validate, props.setCurrentId); //material-ui select\n\n  const inputLabel = React.useRef(null);\n  const [labelWidth, setLabelWidth] = React.useState(0);\n  React.useEffect(() => {\n    setLabelWidth(inputLabel.current.offsetWidth);\n  }, []);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (validate()) {\n      const onSuccess = () => {\n        resetForm();\n        addToast(\"Submitted successfully\", {\n          appearance: 'success'\n        });\n      };\n\n      if (props.currentId == 0) props.createDCandidate(values, onSuccess);else props.updateDCandidate(props.currentId, values, onSuccess);\n    }\n  };\n\n  useEffect(() => {\n    if (props.currentId != 0) {\n      setValues({ ...props.dCandidateList.find(x => x.id == props.currentId)\n      });\n      setErrors({});\n    }\n  }, [props.currentId]);\n  return /*#__PURE__*/React.createElement(\"form\", {\n    autoComplete: \"off\",\n    noValidate: true,\n    className: classes.root,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, Object.assign({\n    name: \"fullName\",\n    variant: \"outlined\",\n    label: \"Full Name\",\n    value: values.fullName,\n    onChange: handleInputChange\n  }, errors.fullName && {\n    error: true,\n    helperText: errors.fullName\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(TextField, Object.assign({\n    name: \"email\",\n    variant: \"outlined\",\n    label: \"Email\",\n    value: values.email,\n    onChange: handleInputChange\n  }, errors.email && {\n    error: true,\n    helperText: errors.email\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(FormControl, Object.assign({\n    variant: \"outlined\",\n    className: classes.formControl\n  }, errors.bloodGroup && {\n    error: true\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(InputLabel, {\n    ref: inputLabel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 25\n    }\n  }, \"Blood Group\"), /*#__PURE__*/React.createElement(Select, {\n    name: \"bloodGroup\",\n    value: values.bloodGroup,\n    onChange: handleInputChange,\n    labelWidth: labelWidth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 29\n    }\n  }, \"Select Blood Group\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"A+\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 29\n    }\n  }, \"A +ve\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"A-\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 29\n    }\n  }, \"A -ve\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"B+\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 29\n    }\n  }, \"B +ve\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"B-\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 29\n    }\n  }, \"B -ve\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"AB+\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 29\n    }\n  }, \"AB +ve\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"AB-\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 29\n    }\n  }, \"AB -ve\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"O+\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 29\n    }\n  }, \"O +ve\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"O-\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 29\n    }\n  }, \"O -ve\")), errors.bloodGroup && /*#__PURE__*/React.createElement(FormHelperText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 47\n    }\n  }, errors.bloodGroup))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, Object.assign({\n    name: \"mobile\",\n    variant: \"outlined\",\n    label: \"Mobile\",\n    value: values.mobile,\n    onChange: handleInputChange\n  }, errors.mobile && {\n    error: true,\n    helperText: errors.mobile\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    name: \"age\",\n    variant: \"outlined\",\n    label: \"Age\",\n    value: values.age,\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    name: \"address\",\n    variant: \"outlined\",\n    label: \"Address\",\n    value: values.address,\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    type: \"submit\",\n    className: classes.smMargin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    className: classes.smMargin,\n    onClick: resetForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 25\n    }\n  }, \"Reset\")))));\n};\n\nconst mapStateToProps = state => ({\n  dCandidateList: state.dCandidate.list\n});\n\nconst mapActionToProps = {\n  createDCandidate: actions.create,\n  updateDCandidate: actions.update\n};\nexport default connect(mapStateToProps, mapActionToProps)(withStyles(styles)(DCandidateForm));","map":{"version":3,"sources":["C:/Users/julio/Desktop/API USANDO REACT Y C# NET.CORE/candidatos/src/components/DCandidateForm.js"],"names":["React","useEffect","Grid","TextField","withStyles","FormControl","InputLabel","Select","MenuItem","Button","FormHelperText","useForm","connect","actions","useToasts","styles","theme","root","margin","spacing","minWidth","formControl","smMargin","initialFieldValues","fullName","mobile","email","age","bloodGroup","address","DCandidateForm","classes","props","addToast","validate","fieldValues","values","temp","errors","test","setErrors","Object","every","x","setValues","handleInputChange","resetForm","setCurrentId","inputLabel","useRef","labelWidth","setLabelWidth","useState","current","offsetWidth","handleSubmit","e","preventDefault","onSuccess","appearance","currentId","createDCandidate","updateDCandidate","dCandidateList","find","id","error","helperText","mapStateToProps","state","dCandidate","list","mapActionToProps","create","update"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { Grid, TextField, withStyles, FormControl, InputLabel, Select, MenuItem, Button, FormHelperText } from \"@material-ui/core\";\r\nimport useForm from \"./useForm\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../actions/dCandidate\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        '& .MuiTextField-root': {\r\n            margin: theme.spacing(1),\r\n            minWidth: 230,\r\n        }\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 230,\r\n    },\r\n    smMargin: {\r\n        margin: theme.spacing(1)\r\n    }\r\n})\r\n\r\nconst initialFieldValues = {\r\n    fullName: '',\r\n    mobile: '',\r\n    email: '',\r\n    age: '',\r\n    bloodGroup: '',\r\n    address: ''\r\n}\r\n\r\nconst DCandidateForm = ({ classes, ...props }) => {\r\n\r\n    //toast msg.\r\n    const { addToast } = useToasts()\r\n\r\n    //validate()\r\n    //validate({fullName:'jenny'})\r\n    const validate = (fieldValues = values) => {\r\n        let temp = { ...errors }\r\n        if ('fullName' in fieldValues)\r\n            temp.fullName = fieldValues.fullName ? \"\" : \"This field is required.\"\r\n        if ('mobile' in fieldValues)\r\n            temp.mobile = fieldValues.mobile ? \"\" : \"This field is required.\"\r\n        if ('bloodGroup' in fieldValues)\r\n            temp.bloodGroup = fieldValues.bloodGroup ? \"\" : \"This field is required.\"\r\n        if ('email' in fieldValues)\r\n            temp.email = (/^$|.+@.+..+/).test(fieldValues.email) ? \"\" : \"Email is not valid.\"\r\n        setErrors({\r\n            ...temp\r\n        })\r\n\r\n        if (fieldValues === values)\r\n            return Object.values(temp).every(x => x === \"\")\r\n    }\r\n\r\n    const {\r\n        values,\r\n        setValues,\r\n        errors,\r\n        setErrors,\r\n        handleInputChange,\r\n        resetForm\r\n    } = useForm(initialFieldValues, validate, props.setCurrentId)\r\n\r\n    //material-ui select\r\n    const inputLabel = React.useRef(null);\r\n    const [labelWidth, setLabelWidth] = React.useState(0);\r\n    React.useEffect(() => {\r\n        setLabelWidth(inputLabel.current.offsetWidth);\r\n    }, []);\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        if (validate()) {\r\n            const onSuccess = () => {\r\n                resetForm()\r\n                addToast(\"Submitted successfully\", { appearance: 'success' })\r\n            }\r\n            if (props.currentId == 0)\r\n                props.createDCandidate(values, onSuccess)\r\n            else\r\n                props.updateDCandidate(props.currentId, values, onSuccess)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (props.currentId != 0) {\r\n            setValues({\r\n                ...props.dCandidateList.find(x => x.id == props.currentId)\r\n            })\r\n            setErrors({})\r\n        }\r\n    }, [props.currentId])\r\n\r\n    return (\r\n        <form autoComplete=\"off\" noValidate className={classes.root} onSubmit={handleSubmit}>\r\n            <Grid container>\r\n                <Grid item xs={6}>\r\n                    <TextField\r\n                        name=\"fullName\"\r\n                        variant=\"outlined\"\r\n                        label=\"Full Name\"\r\n                        value={values.fullName}\r\n                        onChange={handleInputChange}\r\n                        {...(errors.fullName && { error: true, helperText: errors.fullName })}\r\n                    />\r\n                    <TextField\r\n                        name=\"email\"\r\n                        variant=\"outlined\"\r\n                        label=\"Email\"\r\n                        value={values.email}\r\n                        onChange={handleInputChange}\r\n                        {...(errors.email && { error: true, helperText: errors.email })}\r\n                    />\r\n                    <FormControl variant=\"outlined\"\r\n                        className={classes.formControl}\r\n                        {...(errors.bloodGroup && { error: true })}\r\n                    >\r\n                        <InputLabel ref={inputLabel}>Blood Group</InputLabel>\r\n                        <Select\r\n                            name=\"bloodGroup\"\r\n                            value={values.bloodGroup}\r\n                            onChange={handleInputChange}\r\n                            labelWidth={labelWidth}\r\n                        >\r\n                            <MenuItem value=\"\">Select Blood Group</MenuItem>\r\n                            <MenuItem value=\"A+\">A +ve</MenuItem>\r\n                            <MenuItem value=\"A-\">A -ve</MenuItem>\r\n                            <MenuItem value=\"B+\">B +ve</MenuItem>\r\n                            <MenuItem value=\"B-\">B -ve</MenuItem>\r\n                            <MenuItem value=\"AB+\">AB +ve</MenuItem>\r\n                            <MenuItem value=\"AB-\">AB -ve</MenuItem>\r\n                            <MenuItem value=\"O+\">O +ve</MenuItem>\r\n                            <MenuItem value=\"O-\">O -ve</MenuItem>\r\n                        </Select>\r\n                        {errors.bloodGroup && <FormHelperText>{errors.bloodGroup}</FormHelperText>}\r\n                    </FormControl>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n\r\n                    <TextField\r\n                        name=\"mobile\"\r\n                        variant=\"outlined\"\r\n                        label=\"Mobile\"\r\n                        value={values.mobile}\r\n                        onChange={handleInputChange}\r\n                        {...(errors.mobile && { error: true, helperText: errors.mobile })}\r\n                    />\r\n                    <TextField\r\n                        name=\"age\"\r\n                        variant=\"outlined\"\r\n                        label=\"Age\"\r\n                        value={values.age}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                    <TextField\r\n                        name=\"address\"\r\n                        variant=\"outlined\"\r\n                        label=\"Address\"\r\n                        value={values.address}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                    <div>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            type=\"submit\"\r\n                            className={classes.smMargin}\r\n                        >\r\n                            Submit\r\n                        </Button>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            className={classes.smMargin}\r\n                            onClick={resetForm}\r\n                        >\r\n                            Reset\r\n                        </Button>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n        </form>\r\n    );\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    dCandidateList: state.dCandidate.list\r\n})\r\n\r\nconst mapActionToProps = {\r\n    createDCandidate: actions.create,\r\n    updateDCandidate: actions.update\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionToProps)(withStyles(styles)(DCandidateForm));"]},"metadata":{},"sourceType":"module"}